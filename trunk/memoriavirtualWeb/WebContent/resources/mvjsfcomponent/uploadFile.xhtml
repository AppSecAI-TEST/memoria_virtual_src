<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<cc:interface>
	<cc:attribute name="nomebean"></cc:attribute>
	<cc:attribute name="array"></cc:attribute>
</cc:interface>

<cc:implementation>
	<div id="uploadComponente">
		<h:outputLabel class="labels">#{mensagens.multimidiaLabel}</h:outputLabel>
		<h:outputStylesheet name="uploadFile.css" library="mvjsfcomponent"
			media="all" rel="stylesheet" type="text/css" />
		<h:outputScript name="uploadFile.js" library="mvjsfcomponent"></h:outputScript>
		<h:outputScript name="jquery.js" library="javascript"></h:outputScript>
		<div id="example-content">

			<div id="frame">

				<div id="image-area">
					<h:graphicImage id="tag_imagem" library="imagens" name="espera.gif"
						style="display: none;"></h:graphicImage>

					<span id="drop-message">#{mensagens.multimidiaArraste}</span>

				</div>


			</div>

		</div>

		<h:commandButton id="botaoEscondido" type="button"
			style="display: none;">
			<f:ajax render="tabela" execute="@all"></f:ajax>

		</h:commandButton>
	</div>
	<div id="tabela_imagens">

		<h:dataTable id="tabela" var="multimidia" value="#{cc.attrs.array}">
			<h:column style="display: inline-table;">

				<div>
					<h:graphicImage
						url="/multimidia?bean=#{cc.attrs.nomebean}&amp;indice=#{cc.attrs.array.indexOf(multimidia)}"></h:graphicImage>

					<h:outputLabel class="labels">#{mensagens.multimidiaDescricao}</h:outputLabel>
					<h:inputTextarea class="caixadetexto"
						value="#{multimidia.descricao}"></h:inputTextarea>
					<h:commandLink
						action="#{cc.attrs.array.remove(cc.attrs.array.indexOf(multimidia))}"
						value="#{mensagens.multimidiaRemover}">
						<h:graphicImage library="imagens" name="delete.png"
							style="width: 10px; height: 10px; margin: 0px; margin-left: 5px; margin-top: 5px; border: none; display: inline-block;">
						</h:graphicImage>
					</h:commandLink>

				</div>
			</h:column>
			<h:column style="display: inline-table;">
				<div>
					<h:graphicImage
						url="/multimidia?bean=#{cc.attrs.nomebean}&amp;indice=#{cc.attrs.array.indexOf(multimidia)}"></h:graphicImage>

					<h:outputLabel class="labels">#{mensagens.multimidiaDescricao}</h:outputLabel>
					<h:inputTextarea class="caixadetexto"
						value="#{multimidia.descricao}"></h:inputTextarea>
					<h:commandLink
						action="#{cc.attrs.array.remove(cc.attrs.array.indexOf(multimidia))}"
						value="#{mensagens.multimidiaRemover}">
						<h:graphicImage library="imagens" name="delete.png"
							style="width: 10px; height: 10px; margin: 0px; margin-left: 5px; margin-top: 5px; border: none; display: inline-block;">
						</h:graphicImage>
					</h:commandLink>

				</div>
			</h:column>
			<h:column style="display: inline-table;">
				<div>
					<h:graphicImage
						url="/multimidia?bean=#{cc.attrs.nomebean}&amp;indice=#{cc.attrs.array.indexOf(multimidia)}"></h:graphicImage>

					<h:outputLabel class="labels">#{mensagens.multimidiaDescricao}</h:outputLabel>
					<h:inputTextarea class="caixadetexto"
						value="#{multimidia.descricao}"></h:inputTextarea>
					<h:commandLink
						action="#{cc.attrs.array.remove(cc.attrs.array.indexOf(multimidia))}"
						value="#{mensagens.multimidiaRemover}">
						<h:graphicImage library="imagens" name="delete.png"
							style="width: 10px; height: 10px; margin: 0px; margin-left: 5px; margin-top: 5px; border: none; display: inline-block;">
						</h:graphicImage>
					</h:commandLink>

				</div>
			</h:column>
			<h:column style="display: inline-table;">
				<div>
					<h:graphicImage
						url="/multimidia?bean=#{cc.attrs.nomebean}&amp;indice=#{cc.attrs.array.indexOf(multimidia)}"></h:graphicImage>

					<h:outputLabel class="labels">#{mensagens.multimidiaDescricao}</h:outputLabel>
					<h:inputTextarea class="caixadetexto"
						value="#{multimidia.descricao}"></h:inputTextarea>
					<h:commandLink
						action="#{cc.attrs.array.remove(cc.attrs.array.indexOf(multimidia))}"
						value="#{mensagens.multimidiaRemover}">
						<h:graphicImage library="imagens" name="delete.png"
							style="width: 10px; height: 10px; margin: 0px; margin-left: 5px; margin-top: 5px; border: none; display: inline-block;">
						</h:graphicImage>
					</h:commandLink>

				</div>
			</h:column>

		</h:dataTable>

	</div>

	<script>
		iniciarComponenteUpload("#{cc.attrs.nomebean}",
				"#{cc.clientId}:botaoEscondido", "#{cc.clientId}:tag_imagem");
	</script>
</cc:implementation>

</html>
